function map(){var t=document.createElement("div");t.setAttribute("id","container"),document.body.appendChild(t);for(var a=0;21>a;a++){var s=document.createElement("div");s.setAttribute("class","row"),t.appendChild(s);for(var e=0;21>e;e++){var i=document.createElement("div");i.setAttribute("class","blank"),s.appendChild(i)}}}function init(){this.data=[];for(var t=0;21>t;t++){for(var a=[],s=0;21>s;s++)a.push(0);this.data.push(a)}this.snake=[{x:9,y:10},{x:10,y:10},{x:11,y:10}];for(var t=0;t<this.snake.length;t++)this.data[this.snake[t].x][this.snake[t].y]=2;this.food(),this.direction="up",this.timer&&clearInterval(this.timer),this.score=0,this.key_action(),this.changeClass(),this.start()}function food(){for(var t=parseInt(21*Math.random()),a=parseInt(21*Math.random());0!=this.data[t][a];)var t=parseInt(21*Math.random()),a=parseInt(21*Math.random());this.data[t][a]=1,this.food.x=t,this.food.y=a}function key_action(){var t=this;window.onkeydown=function(a){switch(a.code){case"ArrowUp":"down"!=t.direction&&(t.direction="up");break;case"ArrowLeft":"right"!=t.direction&&(t.direction="left");break;case"ArrowDown":"up"!=t.direction&&(t.direction="down");break;case"ArrowRight":"left"!=t.direction&&(t.direction="right")}}}function snake_move(){var t=this.snake[this.snake.length-1],a={};switch(this.direction){case"up":this.snake[0].x-1>=0&&2!=this.data[this.snake[0].x-1][this.snake[0].y]?a={x:this.snake[0].x-1,y:this.snake[0].y}:(alert("GameOver!"),this.init());break;case"down":this.snake[0].x+1<21&&2!=this.data[this.snake[0].x+1][this.snake[0].y]?a={x:this.snake[0].x+1,y:this.snake[0].y}:(alert("GameOver!"),this.init());break;case"left":this.snake[0].y-1>=0&&2!=this.data[this.snake[0].x][this.snake[0].y-1]?a={x:this.snake[0].x,y:this.snake[0].y-1}:(alert("GameOver!"),this.init());break;case"right":this.snake[0].y+1<21&&2!=this.data[this.snake[0].x][this.snake[0].y+1]?a={x:this.snake[0].x,y:this.snake[0].y+1}:(alert("GameOver!"),this.init())}this.add_snake(a),this.data[t.x][t.y]=0;for(var s=0;s<this.snake.length;s++)this.data[this.snake[s].x][this.snake[s].y]=2}function add_snake(t){t.x>=0&&t.x<21&&t.y>=0&&t.y<21&&(0==this.data[t.x][t.y]?(this.snake.unshift(t),this.snake.pop()):1==this.data[t.x][t.y]&&(this.snake.unshift(t),this.score=this.score+1,this.food()))}function changeClass(){for(var t=0;t<this.data.length;t++)for(var a=0;a<this.data.length;a++)1==this.data[t][a]?document.getElementsByClassName("row")[t].children[a].setAttribute("class","food"):2==this.data[t][a]?document.getElementsByClassName("row")[t].children[a].setAttribute("class","snake"):0==this.data[t][a]&&document.getElementsByClassName("row")[t].children[a].setAttribute("class","block")}function start(){var t=this;t.timer=setInterval(function(){t.snake_move(),t.changeClass()},200)}window.onload=function(){map(),init()};var Game={data:[],snake:[],food:[],direction:"up",timer:void 0,score:0};